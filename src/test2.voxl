/*set : null;
get : null;

fn init() {
	x : null;
	
	fn localSet(value) {
		x = value;
	}

	fn localGet() {
		ret x;
	}

	set = localSet;
	get = localGet;
}

init();
print(get());
set(5);
print(get());*/

fn linkedList(value, next) {
	fn instance(n) {
		if n == 0 {
			ret value;
		} else if n == 1 {
			ret next;
		}
	}

	ret instance;
}

fn value(list) {
	ret list(0);
}

fn next(list) {
	ret list(1);
}

fn forEach(func, list) {
	node : list;
	while node != null {
		func(node(0));
		node = node(1);
	}
}

fn log(value) {
	print(value);
}

list : linkedList(1, null);
//forEach(log, list);
print(list(1));
